<!DOCTYPE html>
<html lang="ptBR" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="base/base">

	<link rel="icon" type="image/png" sizes="16x16" th:href="@{/plugins/images/favicon.png}"></link>
	<link th:href="@{/plugins/x-editable/bootstrap3-editable/css/bootstrap-editable.css}" rel="stylesheet" />
	<title>Listar Empilhamento | Alocação Professores</title>

<section layout:fragment="conteudo">
	<div class="row bg-title">
		<div class="col-lg-3 col-md-4 col-sm-4 col-xs-12">
			<h3 class="page-title">
				Empilhamentos
			</h3>
		</div>
		<div class="col-lg-9 col-sm-8 col-md-8 col-xs-12">
			<a href="/empilhamentos/cadastrar"
				class="btn btn-success pull-right m-l-20 btn-rounded hidden-xs hidden-sm waves-effect waves-light"><i
				class="fa fa-plus" aria-hidden="true"></i> Novo Empilhamento</a>
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<div class="white-box">

				<div class="table-responsive">
					<table id="myTable" class="table table-striped">
						<thead>
							<tr>
								<th>Primeira Turma</th>
								<th>Primeira Oferta</th>
								<th>Segunda Turma</th>
								<th>Segunda Oferta</th>
								<th>Habilitada</th>
								<th class="col-md-1"></th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="restricaoHorario : ${restricaoHorarios}">
								<td th:inline="text">
									[[${restricaoHorario.primeiraOferta.turma.curso.sigla}]] -
									[[${restricaoHorario.primeiraOferta.turma.semestre.numero}]]</td>
								<td th:inline="text">
									[[${restricaoHorario.primeiraOferta.disciplina.nome}]]</td>
								<td th:inline="text">
									[[${restricaoHorario.segundaOferta.turma.curso.sigla}]] -
									[[${restricaoHorario.segundaOferta.turma.semestre.numero}]]</td>
								<td th:inline="text">
									[[${restricaoHorario.segundaOferta.disciplina.nome}]]</td>
								
                      			<td><a href="#" id="inline-sex" data-type="select" data-pk="1" data-value="" data-title="Habilitada"></a></td>
                    			
								<td><a
									th:href="@{/empilhamentos/{id}/editar(id=${restricaoHorario.id})}"><button
											type="button"
											class="btn btn-inverse btn-circle waves-effect waves-light" data-toggle="tooltip" data-placement="top" title="Editar">
											<i class="fa fa-pencil"></i> 
										</button></a> 
										
										<a th:href="@{/empilhamentos/{id}/excluir(id=${restricaoHorario.id})}" class="btn btn-danger btn-circle waves-effect waves-light m-r-10 sa-emp-btn-excluir">
										<i class="fa fa-close"></i>		
								</a></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>


	<!-- jQuery x-editable -->
	<script th:src="@{/plugins/moment/moment.js}"></script>
	<script type="text/javascript" th:src="@{/plugins/x-editable/bootstrap3-editable/js/bootstrap-editable.min.js}"></script>
	<script type="text/javascript">
		$(function(){
 			$('#inline-sex').editable({
      			prepend: "not selected",
      			mode: 'inline',
      			source: [
      			{value: 1, text: 'SIM'},
      			{value: 2, text: 'NÃO'}
      			],
      			display: function(value, sourceData) {
       				var colors = {"": "#98a6ad", 1: "#5fbeaa", 2: "#5d9cec"},
       				elem = $.grep(sourceData, function(o){return o.value == value;});

       				if(elem.length) {
         				$(this).text(elem[0].text).css("color", colors[value]);
       				} else {
         				$(this).empty();
       				}
     			}
   			});
		});
	</script>
</section>
</html>